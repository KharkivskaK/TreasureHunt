<!DOCTYPE html>
<html lang="en">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <link rel="icon" href="./images/map2.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="../TreasureHunt3/images/map2.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="teal" />
    <meta name="apple-mobile-web-app-title" content="Simple app" />
    <meta name="msapplication-TileImage" content="image/map2.png" />
    <meta name="msapplication-TileColor" content="#008080" />

    <script type="text/javascript" src="js/app.js"></script>
    <link rel="stylesheet" href="./css/register.css" />

    <title>TREASURE HUNT GAME - Register</title>
  </head>

  <body>
    <div id="wrapper" class="wrapper" onclick="hideWrapper()"></div>

    <!-- Container -->
    <div id="container">
      <header>
        <h1>TREASURE HUNT GAME</h1>
        <p>Welcome to our adventure!</p>
        <button id="menuBt" onclick="toggleNav()">â˜°</button>
        <nav>
          <ul style="padding: 0;" >
            <li><a href="index.html">Home</a></li>
            <li>
              <a href="#help-popup" onclick="showPopup('help-popup')">Help</a>
            </li>
            <li>
              <a href="#about-popup" onclick="showPopup('about-popup')"
                >About</a
              >
            </li>
          </ul>
        </nav>
      </header>

      <div id="help-popup" class="popup-container">
        <div class="popup-content">
          <img src="./images/help.png" alt="Help Icon" class="popup-icon" />
          <div>
            <h3>Help</h3>
            <p>
              Answer Questions: As you embark on your treasure hunt, you'll
              encounter various questions.
            </p>
            <p>
              Use your knowledge and wit to answer them correctly and move
              closer to the treasure.
            </p>
            <p>
              Use Hints: Stuck on a question? Use hints (if available) to get
              clues that will help you answer the questions.
            </p>
            <p>
              Collect Treasures: Each correct answer will guide you to different
              treasures.
            </p>
            <p>Collect as many as you can!</p>
          </div>
        </div>
      </div>

      <div id="about-popup" class="popup-container">
        <div class="popup-content">
          <img src="./images/about.png" alt="Help Icon" class="popup-icon2" />
          <div>
            <h3>About</h3>
            <p>
              Embark on an exciting journey through mysterious lands and
              challenging puzzles. Our game is designed to test your knowledge,
              wit, and adventure spirit.
            </p>
            <p>
              Created by a dedicated team of puzzle enthusiasts and adventure
              seekers, the Treasure Hunt Game offers a unique blend of learning
              and fun.
            </p>
          </div>
        </div>
      </div>

      <div class="guide">
        <p class="guideInfo" id="guideInformation"></p>
        <div class="clearFloat"></div>
      </div>

      <script>
        let categorySelectedUUID = getQueryParamValue("cuuid");
        let categorySelectedName = getQueryParamValue("cname");
        categorySelectedName = categorySelectedName.split("+").join(" ");
        let registerBubble = document.getElementById("guideInformation");
        registerBubble.innerHTML =
          '<p> You are looking for the "' +
          categorySelectedName +
          '"  treasure. Now tell us your name and e-mail and we are ready to go!</p>' +
          "<p style='color:red'>Make sure you <u>ALLOW</u> Geolocation in your browser!";
      </script>

      <div class="playerRegisterForm">
        <form
          name="playerForm"
          class=""
          id="playerForm"
          action="game.html"
          method="get"
        >
          <p>
            <input
              id="playerName"
              type="text"
              title="Name can only contain letters, numbers, - and ."
              name="playerName"
              pattern="[a-zA-Z0-9.-]{1,20}"
              placeholder="Name..."
              maxlength="20"
              class="custom-input"
              required
            />
          </p>

          <p>
            <input
              id="playerEmail"
              type="email"
              title="Email should be in the format example@domain.com"
              pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-z]{2,24}$"
              name="playerEmail"
              placeholder="E-Mail..."
              maxlength="60"
              class="custom-input"
              required
            />
          </p>

          <p>
            <select
              class="custom-input"
              id="genderSelect"
              name="gender"
              placeholder="Select gender..."
              required
            >
              <option value="m">Male</option>
              <option value="f">Female</option>
              <option value="n">Would rather not say</option>
            </select>
          </p>

          <input type="hidden" id="cUUIDField" name="categoryUUID" />
          <input type="hidden" id="cNameField" name="categoryName" />

          <script>
            document.getElementById("cUUIDField").value = categorySelectedUUID;
            document.getElementById("cNameField").value = categorySelectedName;
          </script>

          <p class="buttonContainer">
            <input
              class="btn start"
              type="submit"
              name="submitPirateNames"
              value="Find the Treasure!"
            />
          </p>
        </form>
      </div>
    </div>

    <script>
      function toggleNav() {
        let nav = document.querySelector("nav");
        nav.classList.toggle("active");
        console.log('done');
      }

      function hideContentNav() {
        document.getElementById("overlay").style.display = "none";
        var nav = document.querySelector("nav ul");
        if (nav.classList.contains("active")) {
          nav.classList.remove("active");
        }
      }

      function showContentNav(sectionId) {
        // Hide all content sections
        document.querySelectorAll(".box").forEach(function (section) {
          section.style.display = "none";
        });

        // Show the content section with the matching ID
        var contentSection = document.getElementById(sectionId);
        if (contentSection) {
          contentSection.style.display = "block";
        }

        // Optionally, hide the navigation menu on mobile after selecting a section
        // This is useful if your navigation is a dropdown in mobile view
        var navMenu = document.querySelector("nav ul");
        if (navMenu.classList.contains("active")) {
          navMenu.classList.remove("active"); // Remove the 'active' class to hide the menu
        }

        // Hide the overlay as well, if you have one that should disappear when a section is selected
        document.getElementById("overlay").style.display = "none";
      }

      document.getElementById("menuBt").addEventListener("click", function () {
        let nav = document.querySelector("nav ul");
        nav.classList.toggle("active");
      });
    </script>
  </body>
</html>
